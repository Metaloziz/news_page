{"version":3,"file":"static/js/530.3bfd7e61.chunk.js","mappings":"sKACA,EAA4B,+BAA5B,EAA2E,mCAA3E,EAAqH,0BCArH,EAA4B,4BAA5B,EAAiE,yBAAjE,EAAiG,uBAAjG,EAA+H,uBAA/H,EAAoK,8B,iDCSvJA,EAAkC,SAAC,GAAD,QAC7CC,KACEC,EAF2C,EAE3CA,KACAC,EAH2C,EAG3CA,KACYC,EAJ+B,EAI3CC,WACSC,EALkC,EAK3CC,QACaC,EAN8B,EAM3CC,YACaC,EAP8B,EAO3CC,YACYC,EAR+B,EAQ3CC,WACaC,EAT8B,EAS3CC,YACSC,EAVkC,EAU3CC,QACSC,EAXkC,EAW3CC,QACYC,EAZ+B,EAY3CC,WAEFC,EAd6C,EAc7CA,QAd6C,OAgB7C,iBAAKC,UAAWC,EAAhB,WACE,iBAAKD,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EAAhB,UAA6BC,EAAAA,EAAAA,IAAgBvB,MAE7C,4BACE,wBAAKC,IACJmB,IACC,SAAC,KAAD,CAAkBI,WAAW,iFAAgBC,KAAMC,EAAAA,GAAAA,qBAIzD,iBAAKL,UAAWC,EAAhB,WACE,gBAAKK,IAAI,OAAOC,KAAKC,EAAAA,EAAAA,GAAezB,MACpC,wBAAKF,KACL,gBAAKmB,UAAWC,EAAhB,SAAoChB,QAEtC,iBAAKe,UAAWC,EAAhB,WACE,wBAAKZ,IACJI,IAAU,gBAAKa,IAAI,OAAOC,KAAKC,EAAAA,EAAAA,GAAef,MAC/C,gBAAKO,UAAWC,EAAhB,SAAoCV,QAEtC,iBAAKS,UAAWC,EAAhB,WACE,wBAAKJ,IACJF,IAAU,gBAAKW,IAAI,OAAOC,KAAKC,EAAAA,EAAAA,GAAeb,MAC/C,gBAAKK,UAAWC,EAAhB,SAAoCd,W,kDCK1C,EAtCwB,WACtB,IAAMsB,GAAWC,EAAAA,EAAAA,KAEXC,GAAcC,EAAAA,EAAAA,IAAYC,EAAAA,GAE1BC,GAAcF,EAAAA,EAAAA,IAAYG,EAAAA,IAC1BhB,GAAUa,EAAAA,EAAAA,IAAYI,EAAAA,KAE5BC,EAAAA,EAAAA,YAAU,WACRR,GAASS,EAAAA,EAAAA,SACR,IAYH,OACE,iBAAKlB,UAAWC,EAAhB,WACE,SAAC,KAAD,KACA,iBAAKD,UAAWC,EAAhB,WACE,SAAC,KAAD,KACA,iBAAKD,UAAWC,EAAhB,WACE,SAACxB,EAAD,CAAUC,KAAMiC,EAAaZ,QAASA,KACtC,SAAC,KAAD,CAAoBrB,KAAMoC,EAAaK,eAjBxB,SAACC,GACtB,IAAMC,EAAkBP,EAAYQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,KAAOJ,KAEzDC,GACFZ,EAASgB,EAAAA,GAAAA,UAAwBJ,EAAiB,GAAIA,EAAgBG,KAGxEf,GAASiB,EAAAA,EAAAA,IAAoBN,WAazB,SAAC,KAAD,Y,qDC9CD,IAAMP,EAAoB,SAACc,GAChC,IAAKA,EAAMhB,YAAYA,YAAY/B,KAAM,CACvC,IAAM+B,EAAciB,aAAaC,QAAQ,eACzC,GAAIlB,EACF,OAAOmB,KAAKC,MAAMpB,GAGtB,OAAOgB,EAAMhB,YAAYA","sources":["webpack://itec/./src/pages/CurrentNews/CurrentNews.module.scss?f778","webpack://itec/./src/pages/CurrentNews/NewsBody/NewsBody.module.scss?5b07","pages/CurrentNews/NewsBody/NewsBody.tsx","pages/CurrentNews/CurrentNews.tsx","store/selectors/current_news.ts"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CurrentNews_container__ht0hV\",\"bodyContainer\":\"CurrentNews_bodyContainer__LdkMV\",\"body\":\"CurrentNews_body__NL5kl\",\"comments\":\"CurrentNews_comments__EqNB7\",\"footer\":\"CurrentNews_footer__FsYvW\",\"preview\":\"CurrentNews_preview__ilYUn\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NewsBody_container__cyYrd\",\"header\":\"NewsBody_header__Uf97i\",\"date\":\"NewsBody_date__xRCCg\",\"body\":\"NewsBody_body__UvY+H\",\"description\":\"NewsBody_description__-2wvl\"};","import { FC } from 'react'\n\nimport style from './NewsBody.module.scss'\n\nimport { NavLinkComponent } from 'components'\nimport { Path } from 'enums'\nimport { NewsBodyPropsType } from 'store/types/news_body_props_type'\nimport { convertDateView } from 'utils'\nimport { imageUrlHandle } from 'utils/image_url_handle'\n\nexport const NewsBody: FC<NewsBodyPropsType> = ({\n  news: {\n    date,\n    name,\n    subtitle_1: subtitle1,\n    image_1: image1,\n    full_text_1: fullText1,\n    full_text_3: fullText3,\n    subtitle_2: subtitle2,\n    full_text_2: fullText2,\n    image_2: image2,\n    image_3: image3,\n    subtitle_3: subtitle3,\n  },\n  isAdmin,\n}) => (\n  <div className={style.container}>\n    <div className={style.header}>\n      <div className={style.date}>{convertDateView(date)}</div>\n\n      <div>\n        <h1>{name}</h1>\n        {isAdmin && (\n          <NavLinkComponent nameButton=\"редактировать\" path={Path.CHANGE_NEWS} />\n        )}\n      </div>\n    </div>\n    <div className={style.body}>\n      <img alt=\"logo\" src={imageUrlHandle(image1)} />\n      <h3>{subtitle1}</h3>\n      <div className={style.description}>{fullText1}</div>\n    </div>\n    <div className={style.body}>\n      <h3>{subtitle2}</h3>\n      {image2 && <img alt=\"logo\" src={imageUrlHandle(image2)} />}\n      <div className={style.description}>{fullText2}</div>\n    </div>\n    <div className={style.body}>\n      <h3>{subtitle3}</h3>\n      {image3 && <img alt=\"logo\" src={imageUrlHandle(image3)} />}\n      <div className={style.description}>{fullText3}</div>\n    </div>\n  </div>\n)\n","import { FC, useEffect } from 'react'\n\nimport { useSelector } from 'react-redux'\n\nimport { Comments } from './Comments/Comments' // todo решить вопрос о их необходимости с Сергеем\nimport style from './CurrentNews.module.scss'\nimport { NewsBody } from './NewsBody/NewsBody'\n\nimport { Footer, MobileNavigation, Navigation, PopularNewsPreview } from 'components'\nimport {\n  selectCurrentNews,\n  selectIsAdminMode,\n  selectPartSearchNews,\n} from 'store/selectors'\nimport { useAppDispatch } from 'store/store'\nimport { addNewsViewsValueTC, getNewsByIdTC, getPopularNewsTC } from 'store/thunks'\n\nconst CurrentNews: FC = () => {\n  const dispatch = useAppDispatch()\n\n  const currentNews = useSelector(selectCurrentNews)\n\n  const popularNews = useSelector(selectPartSearchNews) // пока редьюсер свободен туда сетаются популярные новости\n  const isAdmin = useSelector(selectIsAdminMode)\n\n  useEffect(() => {\n    dispatch(getPopularNewsTC())\n  }, [])\n\n  const setCurrentNews = (newsId: number): void => {\n    const currentNewsItem = popularNews.find(item => item.id === newsId)\n\n    if (currentNewsItem) {\n      dispatch(getNewsByIdTC.fulfilled(currentNewsItem, '', currentNewsItem.id))\n    }\n\n    dispatch(addNewsViewsValueTC(newsId))\n  }\n\n  return (\n    <div className={style.container}>\n      <MobileNavigation />\n      <div className={style.bodyContainer}>\n        <Navigation />\n        <div className={style.body}>\n          <NewsBody news={currentNews} isAdmin={isAdmin} />\n          <PopularNewsPreview news={popularNews} setCurrentNews={setCurrentNews} />\n        </div>\n        {/* <Comments newsId={currentNews.id} /> */}\n        <Footer />\n      </div>\n    </div>\n  )\n}\n\nexport default CurrentNews\n","import { RootState } from 'store/store'\nimport { NewsType } from 'store/types/news_type'\n\nexport const selectCurrentNews = (state: RootState): NewsType => {\n  if (!state.currentNews.currentNews.name) {\n    const currentNews = localStorage.getItem('currentNews')\n    if (currentNews) {\n      return JSON.parse(currentNews)\n    }\n  }\n  return state.currentNews.currentNews\n}\n"],"names":["NewsBody","news","date","name","subtitle1","subtitle_1","image1","image_1","fullText1","full_text_1","fullText3","full_text_3","subtitle2","subtitle_2","fullText2","full_text_2","image2","image_2","image3","image_3","subtitle3","subtitle_3","isAdmin","className","style","convertDateView","nameButton","path","Path","alt","src","imageUrlHandle","dispatch","useAppDispatch","currentNews","useSelector","selectCurrentNews","popularNews","selectPartSearchNews","selectIsAdminMode","useEffect","getPopularNewsTC","setCurrentNews","newsId","currentNewsItem","find","item","id","getNewsByIdTC","addNewsViewsValueTC","state","localStorage","getItem","JSON","parse"],"sourceRoot":""}